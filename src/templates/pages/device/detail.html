{% extends "layout.html" %}

{% block title %}Device detail{% endblock title %}
{% block content %}

<div class="container">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mb-4"
    hx-get="/device/{{ device.id }}/delete"
    hx-trigger='confirmed'
    onClick="
      Swal.fire({
        title: 'Confirm',
        text:'really delete?',
        showCancelButton: true,
        confirmButtonColor: '#3B82F6',
      }).then((result)=>{
          if(result.isConfirmed){
            htmx.trigger(this, 'confirmed');
          }
      })
    ">
    delete
  </button>
  <table class="table-fixed">
    <tbody>
      <thead>
        <tr>
          <th>Name</th>
          <th>Image</th>
        </tr>
      </thead>
      <tr class="device" onclick="window.location='/device/{{ device.id }}/edit';">
        <td class="px-2">{{ device.name }}</td>
        <td>
          {% if device.image != '' %}
            <img src="{{ device.image}}" width="128" height="128">
          {% else %}
            <img src="/assets/images/no_image.jpg" width="128" height="128">
          {% endif %}
        </td>
      </tr>
    </tbody>
  </table>
</div>
{% endblock content %}
